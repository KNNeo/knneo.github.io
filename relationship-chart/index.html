<!DOCTYPE html>
<html lang="en-SG">
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
		<meta content="utf-8" http-equiv="encoding">
		<link id="fonts-css" rel="stylesheet" type="text/css" href="../fonts.css">
		<link id="index-css" rel="stylesheet" type="text/css" href="index.css">
		<link id="bs-css" rel="stylesheet" type="text/css" href="../resources/bootstrap-icons.css">
		<script src="../darkmode.js" type="application/javascript" charset="utf-8"></script>
		<!-- <script src="../fetch.js" type="application/javascript" charset="utf-8"></script> -->
		<script id="data-id" src="" defer></script>
		<script src="index.js" defer></script>
		<!-- <script src="grid.js" defer></script> -->
		<!-- <script src="viewer.js" defer></script> -->
		<title>Relationship Chart</title>
	</head>
	<body onload="startup()" onkeydown="onKeyDown()">
		<h3>Relationship Chart</h3>
		<h6>A very simple grid based design with arrows to point between names</h6>
		<div class="page">
			<svg class="diagram" onresize="resize()"></svg>
		</div>
		<h3 class="settings">
			<a class="darkmode bi bi-brightness-high" href="javascript:void(0);" title="Toggle Dark Mode" onclick="toggleDarkMode()" oncontextmenu="false"></a>
			<a class="darkmode bi bi-pencil-square" href="javascript:void(0);" title="Open Editor" onclick="openEditor()" oncontextmenu="false"></a>
			<a class="darkmode bi bi-gear" href="javascript:void(0);" title="Open Settings" onclick="openSettings()" oncontextmenu="false"></a>
		</h3>
		<h3 class="settings">
			<a class="home" href="../index.html">knneo.github.io</a>
		</h3>
		<div class="viewer hidden"></div>
	</body>
	<template class="edit">
		<h2>Instructions</h2>
		<ul>
			<li>All instructions start with keyword in caps, separated by rows</li>
			<li>All nodes end with newline, grouped by empty row</li>
			<li>All nodes must have ID to create new, use ID RESERVED to create empty</li>
			<li>All nodes are generated in outwards spiral clockwise ie. right - down - left x2 - up x2 - right x3 etc</li>
			<li>(Optional) Fill in NAME, IMAGE url, LINK [ID_TO_LINK] AS [LINK_LABEL]</li>
			<li>Example:<br>
				<code>
					ID user1<br>
					NAME James<br>
					LINK user3<br>
					<br>
					ID user2<br>
					NAME Maria<br>
					LINK user1 AS Wife<br>
				</code>
			</li>
		</ul>
		<textarea class="editor" rows="20"></textarea>
		<div>
			<button class="preview" onclick="previewEditor()">Preview</button>
			<button class="close" onclick="closeEditor()">Close</button>
		</div>
	</template>
	<template class="setting">
		<h2>Settings</h2>
		<label>Node Width: <span></span><input id="node-width" type="range" min="50" max="500" step="10" oninput="onSettingChange()" /></label>
		<label>Node Height: <span></span><input id="node-height" type="range" min="50" max="500" step="10" oninput="onSettingChange()" /></label>
		<label>Horizontal Gap (in number of nodes): <span></span><input id="node-gap-horizontal" type="range" min="0" max="5" step="0.5" oninput="onSettingChange()" /></label>
		<label>Vertical Gap (in number of nodes): <span></span><input id="node-gap-vertical" type="range" min="0" max="5" step="0.5" oninput="onSettingChange()" /></label>
		<div>
			<button class="preview" onclick="saveSettings()">Save</button>
			<button class="close" onclick="closeSettings()">Close</button>
		</div>
	</template>
</html>
